{% load static %}
<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8">
  <title>Joyscore | Avaliação de Jogo</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
  
  <link rel="stylesheet" href="{% static 'jogos/css/avaliar.css' %}"> 
</head>
<body>

    <header>
        <div class="header-content">
          <a href="/" class="header-logo-link">
            <img src="{% static 'jogos/imagens/logo.png' %}" alt="Joyscore Logo" class="header-logo">
            <span class="logo"></span>
          </a>
        </div>
    </header>

  <main>
    <section class="game-container">

      <div class="cover">
        <img src="{{ jogo.capa_url }}" alt="Capa do Jogo" id="game-cover">
      </div>

      <div class="game-info">
        <div class="title-section">
          <h1 id="game-title">{{ jogo.titulo }}</h1>
          <button class="add-btn" title="Adicionar à biblioteca" aria-label="Adicionar {{ jogo.titulo }} à biblioteca">
            <i class="fas fa-plus"></i>
          </button>
        </div>

        <dl class="details">
          <dt>Gênero:</dt>
          <dd id="game-genre">{{ jogo.genero }}</dd>

          <dt>Plataformas:</dt>
          <dd id="game-platforms">{{ jogo.plataformas }}</dd>
        </dl>

        <div class="description">
          <h2>Sinopse</h2>
          <p id="game-description">
            {{ jogo.sinopse }}
          </p>
        </div>
      </div>
    </section>

    <section class="rating-section">
      {% if messages %}
        <div class="messages">
            {% for message in messages %}
                <p style="color: green; text-align: center;">{{ message }}</p>
            {% endfor %}
        </div>
      {% endif %}

      <h2>Avalie este jogo</h2>
      
      <form class="rating-form" method="POST">
        {% csrf_token %}
        
        <input type="hidden" name="comentario" value="">
        
        <fieldset class="rating">
          <legend class="sr-only">Avaliação de estrelas: 1 a 5</legend>

          <input type="radio" id="star5" name="nota" value="5" aria-label="5 Estrelas" {% if avaliacao_existente.nota == 5 %}checked{% endif %}>
          <label for="star5" class="star">★</label>
          
          <input type="radio" id="star4" name="nota" value="4" aria-label="4 Estrelas" {% if avaliacao_existente.nota == 4 %}checked{% endif %}>
          <label for="star4" class="star">★</label>
          
          <input type="radio" id="star3" name="nota" value="3" aria-label="3 Estrelas" {% if avaliacao_existente.nota == 3 %}checked{% endif %}>
          <label for="star3" class="star">★</label>
          
          <input type="radio" id="star2" name="nota" value="2" aria-label="2 Estrelas" {% if avaliacao_existente.nota == 2 %}checked{% endif %}>
          <label for="star2" class="star">★</label>
          
          <input type="radio" id="star1" name="nota" value="1" aria-label="1 Estrela" {% if avaliacao_existente.nota == 1 %}checked{% endif %}>
          <label for="star1" class="star">★</label>

        </fieldset>
        
        <button type="submit" name="acao" value="salvar" class="submit-rating">Salvar Avaliação</button>
      </form>

    </section>

  </main>

</body>
</html>