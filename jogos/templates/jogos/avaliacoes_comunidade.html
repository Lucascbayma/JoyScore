{% extends 'base.html' %}
{% load static %}

{% block title %}Avaliações da Comunidade - JoyScore{% endblock %}

{% block extra_css %}
    <link rel="stylesheet" href="{% static 'jogos/css/biblioteca.css' %}"> 
    
    <link rel="stylesheet" href="{% static 'jogos/css/avaliacoes_comunidade.css' %}">
{% endblock %}

{% block content %}
<main class="main-content">
    <section class="content-section">
        <h2 class="section-title">AVALIAÇÕES RECENTES DA COMUNIDADE</h2>

        {% if recentes %}
            <div class="review-list-container">
                {% for avaliacao in recentes %}
                    <div class="review-card">
                        
                        <div class="review-header">
                            <h3 class="review-game-title">
                                <a href="{% url 'jogos:avaliar' avaliacao.Jogo.id %}">
                                    {{ avaliacao.Jogo.titulo }}
                                </a>
                            </h3>
                            <span class="review-stars">
                                {{ avaliacao.nota }} / 5 
                                <i class="fas fa-star" style="color: #f0e14a;"></i> </span>
                        </div>

                        {% if avaliacao.comentario %}
                            <blockquote class="review-comment">
                                "{{ avaliacao.comentario }}"
                            </blockquote>
                        {% else %}
                            <blockquote class="review-comment-empty">
                                O usuário não deixou um comentário.
                            </blockquote>
                        {% endif %}

                        <div class="review-footer">
                            <span class="review-author">
                                Por: <strong>{{ avaliacao.usuario.username }}</strong>
                            </span>
                            <span class="review-date">
                                {{ avaliacao.data_da_avaliacao|date:"d/m/Y \à\s H:i" }}
                            </span>
                        </div>

                    </div> {% endfor %}
            </div>
        {% else %}
            <p>Nenhuma avaliação foi feita pela comunidade ainda.</p>
        {% endif %}
        
    </section>
</main>

{% endblock %}